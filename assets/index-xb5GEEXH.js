const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-konva-Bv-yRLbE.js","assets/vendor-qyqTCWZ2.js"])))=>i.map(i=>d[i]);
import{j as t,B as N,r as u,D as A,b as k,d as B,e as R,T as F,f as D,g as T,h as z,i as O,k as W}from"./vendor-qyqTCWZ2.js";import{Line as _}from"./react-konva-Bv-yRLbE.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function l(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function f(o){if(o.ep)return;o.ep=!0;const c=l(o);fetch(o.href,c)}})();const I=e=>{const r=()=>{const l=[];for(let f=0;f<8;f++)l.push(Math.floor(Math.random()*6));e.setSequence(l)};return t.jsxs("div",{id:"containStartGame",children:[t.jsx(N,{}),t.jsx("div",{onClick:r,id:"startGame",children:"start game"})]})},M=e=>t.jsx("div",{className:"menu",children:t.jsx(I,{setSequence:e.setSequence})}),U="modulepreload",G=function(e){return"/SuperSimon/"+e},b={},K=function(r,l,f){let o=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),d=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.allSettled(l.map(h=>{if(h=G(h),h in b)return;b[h]=!0;const x=h.endsWith(".css"),j=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${j}`))return;const m=document.createElement("link");if(m.rel=x?"stylesheet":U,x||(m.as="script"),m.crossOrigin="",m.href=h,d&&m.setAttribute("nonce",d),document.head.appendChild(m),x)return new Promise((S,p)=>{m.addEventListener("load",S),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(n){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n}return o.then(n=>{for(const d of n||[])d.status==="rejected"&&c(d.reason);return r().catch(c)})},$=e=>t.jsx(_,{x:e.x,y:e.y,points:[0,0,e.size,0,e.size/1.3,e.size/3,e.size-e.size/1.3,e.size/3],fill:e.fill,closed:!0,stroke:"#d2d8dd",strokeWidth:4,rotation:e.rotation,onClick:e.onClick}),V=e=>{const[r,l]=u.useState(-1),[f,o]=u.useState(0),[c,n]=u.useState(0),[d,h]=u.useState(null),[x,j]=u.useState(null),[m,S]=u.useState(null),p=["#D72638","#FF5700"," #FFC107","#4CAF50","#1E88E5","#9C27B0"],w=["#FF4D6D","#FFA333","#FFE066","#B9FBC0","#57C7FF","#E87BF8"],[g,v]=u.useState(p);u.useEffect(()=>{K(()=>import("./react-konva-Bv-yRLbE.js"),__vite__mapDeps([0,1])).then(s=>{h(s.Stage),j(s.Layer),S(s.RegularPolygon)})},[]);const P="sound/soundsuccess.mp3",q="sound/soundfail.mp3",E=[{x:465,y:100,rotation:0,fill:g[0],sound:"sound/sound1.mp3"},{x:662,y:117,rotation:60,fill:g[1],sound:"sound/sound2.mp3"},{x:758,y:302,rotation:120,fill:g[2],sound:"sound/sound3.mp3"},{x:638,y:464,rotation:180,fill:g[3],sound:"sound/sound4.mp3"},{x:428,y:440,rotation:240,fill:g[4],sound:"sound/sound5.mp3"},{x:350,y:253,rotation:300,fill:g[5],sound:"sound/sound6.mp3"}],C=s=>{new Audio(E[s].sound).play(),v(a=>{const y=[...a];return y[s]=w[s],y}),setTimeout(()=>{v(a=>{const y=[...a];return y[s]=p[s],y})},600)};u.useEffect(()=>{n(0),setTimeout(()=>{C(e.sequence[0]),n(1)},1e3),o(0),l(0)},[e.sequence]);const L=s=>{if(C(s),c==1)if(e.sequence[r]===s)if(r==f){if(r==7){new Audio(P).play();const i=e.elementRef.current,a=e.animationRef.current;i&&(i.style.animationName="none",i.offsetWidth,i.style.animationName="success",i.style.animationDuration="5s",i.style.animationTimingFunction="ease-in-out",i.style.animationIterationCount="1"),a&&(a.src="animation/clapping.gif"),n(0)}else o(i=>i+1);l(0)}else l(i=>i+1);else{const i=e.animationRef.current;setTimeout(()=>{new Audio(q).play();const a=e.elementRef.current;a&&(n(0),a.style.animationName="none",a.offsetWidth,a.style.animationName="fail",a.style.animationDuration="1.7s",a.style.animationTimingFunction="ease-in-out",a.style.animationIterationCount="1"),i&&(i.src="animation/cry.gif")},600)}};return u.useEffect(()=>{n(0);const s=e.animationRef.current;s&&(s.src="animation/wait.gif"),e.sequence.slice(0,f+1).forEach((i,a)=>{setTimeout(()=>{console.log(a+" index "+i+" seq[index]"),C(i),a==f&&n(1)},950*(a+1))})},[f]),!d||!x||!m?t.jsx("div",{children:"Loading..."}):t.jsx(d,{width:845,height:500,children:t.jsxs(x,{children:[t.jsx(m,{x:550,y:280,sides:6,radius:250,fill:"#e9eaeb",stroke:"#d2d8dd",strokeWidth:3,rotation:30}),E.map((s,i)=>t.jsx($,{x:s.x,y:s.y,size:170,rotation:s.rotation,fill:s.fill,onClick:()=>L(i),sound:s.sound},i))]})})},H=e=>t.jsxs("div",{id:"wrapper",children:[t.jsx("img",{ref:e.animationRef,src:"/animation/wait.gif"}),t.jsx("div",{ref:e.elementRef,children:"Super Simon"})]}),J=()=>{const[e,r]=u.useState(!0),l=()=>{r(!1)};return t.jsxs(A,{open:e,onClose:()=>{},"aria-labelledby":"login-dialog-title",fullWidth:!0,maxWidth:"xs",PaperProps:{sx:{borderRadius:3,boxShadow:6}},children:[t.jsx(k,{id:"login-dialog-title",children:"התחברות"}),t.jsx(B,{children:t.jsxs(R,{component:"form",noValidate:!0,sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[t.jsx(F,{label:"שם משתמש",variant:"outlined",fullWidth:!0,required:!0}),t.jsx(F,{label:"סיסמה",variant:"outlined",type:"password",fullWidth:!0,required:!0})]})}),t.jsx(D,{children:t.jsx(T,{onClick:l,color:"primary",variant:"contained",children:"התחבר"})})]})},Q=()=>(console.log("sdfghjkhgfhjhh"),t.jsx(J,{})),X=()=>t.jsxs(R,{sx:{position:"fixed",top:"10px",left:"10px",backgroundColor:"#f0f0f0",padding:"10px 20px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",display:"flex"},children:[t.jsx(z,{style:{fontSize:"4vh",paddingInlineEnd:"1.5vh"},onClick:Q}),t.jsxs(O,{variant:"body1",style:{fontFamily:"cursive",top:"5px"},children:["hello ","tzipi","!"]})]}),Y=e=>{const r=u.useRef(null),l=u.useRef(null);return t.jsxs("div",{className:"main",children:[t.jsx(X,{}),t.jsx(H,{elementRef:r,animationRef:l}),t.jsx(V,{sequence:e.sequence,elementRef:r,animationRef:l})]})};function Z(){const[e,r]=u.useState([]);return t.jsxs(t.Fragment,{children:[t.jsx(Y,{sequence:e}),t.jsx(M,{setSequence:r})]})}W.createRoot(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(Z,{})}));
//# sourceMappingURL=index-xb5GEEXH.js.map
