const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-konva-Ds4vkoaI.js","assets/vendor-YQncPFj8.js"])))=>i.map(i=>d[i]);
import{j as t,B as L,r as u,b as P}from"./vendor-YQncPFj8.js";import{Line as A}from"./react-konva-Ds4vkoaI.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&m(n)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function m(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}})();const N=e=>{const c=()=>{const a=[];for(let m=0;m<8;m++)a.push(Math.floor(Math.random()*6));e.setSequence(a)};return t.jsxs("div",{id:"containStartGame",children:[t.jsx(L,{}),t.jsx("div",{onClick:c,id:"startGame",children:"start game"})]})},B=e=>t.jsx("div",{className:"menu",children:t.jsx(N,{setSequence:e.setSequence})}),O="modulepreload",T=function(e){return"/"+e},F={},k=function(c,a,m){let o=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),d=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));o=Promise.allSettled(a.map(y=>{if(y=T(y),y in F)return;F[y]=!0;const h=y.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":O,h||(f.as="script"),f.crossOrigin="",f.href=y,d&&f.setAttribute("nonce",d),document.head.appendChild(f),h)return new Promise((C,S)=>{f.addEventListener("load",C),f.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(n){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n}return o.then(n=>{for(const d of n||[])d.status==="rejected"&&l(d.reason);return c().catch(l)})},z=e=>t.jsx(A,{x:e.x,y:e.y,points:[0,0,e.size,0,e.size/1.3,e.size/3,e.size-e.size/1.3,e.size/3],fill:e.fill,closed:!0,stroke:"#d2d8dd",strokeWidth:4,rotation:e.rotation,onClick:e.onClick}),_=e=>{const[c,a]=u.useState(-1),[m,o]=u.useState(0),[l,n]=u.useState(0),[d,y]=u.useState(null),[h,p]=u.useState(null),[f,C]=u.useState(null),S=["#D72638","#FF5700"," #FFC107","#4CAF50","#1E88E5","#9C27B0"],v=["#FF4D6D","#FFA333","#FFE066","#B9FBC0","#57C7FF","#E87BF8"],[g,E]=u.useState(S);u.useEffect(()=>{k(()=>import("./react-konva-Ds4vkoaI.js"),__vite__mapDeps([0,1])).then(i=>{y(i.Stage),p(i.Layer),C(i.RegularPolygon)})},[]);const R="../../../public/sound/soundsuccess.mp3",q="../../../public/sound/soundfail.mp3",b=[{x:465,y:100,rotation:0,fill:g[0],sound:"../../../public/sound/sound1.mp3"},{x:662,y:117,rotation:60,fill:g[1],sound:"../../../public/sound/sound2.mp3"},{x:758,y:302,rotation:120,fill:g[2],sound:"../../../public/sound/sound3.mp3"},{x:638,y:464,rotation:180,fill:g[3],sound:"../../../public/sound/sound4.mp3"},{x:428,y:440,rotation:240,fill:g[4],sound:"../../../public/sound/sound5.mp3"},{x:350,y:253,rotation:300,fill:g[5],sound:"../../../public/sound/sound6.mp3"}],j=i=>{new Audio(b[i].sound).play(),E(r=>{const x=[...r];return x[i]=v[i],x}),setTimeout(()=>{E(r=>{const x=[...r];return x[i]=S[i],x})},600)};u.useEffect(()=>{n(0),setTimeout(()=>{j(e.sequence[0]),n(1)},1e3),o(0),a(0)},[e.sequence]);const w=i=>{if(j(i),l==1)if(e.sequence[c]===i)if(c==m){if(c==7){new Audio(R).play();const s=e.elementRef.current,r=e.animationRef.current;s&&(s.style.animationName="none",s.offsetWidth,s.style.animationName="success",s.style.animationDuration="5s",s.style.animationTimingFunction="ease-in-out",s.style.animationIterationCount="1"),r&&(r.src="../../../public/animation/clapping.gif"),n(0)}else o(s=>s+1);a(0)}else a(s=>s+1);else{const s=e.animationRef.current;setTimeout(()=>{new Audio(q).play();const r=e.elementRef.current;r&&(n(0),r.style.animationName="none",r.offsetWidth,r.style.animationName="fail",r.style.animationDuration="1.7s",r.style.animationTimingFunction="ease-in-out",r.style.animationIterationCount="1"),s&&(s.src="../../../public/animation/cry.gif")},600)}};return u.useEffect(()=>{n(0);const i=e.animationRef.current;i&&(i.src="../../../public/animation/wait.gif"),e.sequence.slice(0,m+1).forEach((s,r)=>{setTimeout(()=>{console.log(r+" index "+s+" seq[index]"),j(s),r==m&&n(1)},950*(r+1))})},[m]),!d||!h||!f?t.jsx("div",{children:"Loading..."}):t.jsx(d,{width:845,height:500,children:t.jsxs(h,{children:[t.jsx(f,{x:550,y:280,sides:6,radius:250,fill:"#e9eaeb",stroke:"#d2d8dd",strokeWidth:3,rotation:30}),b.map((i,s)=>t.jsx(z,{x:i.x,y:i.y,size:170,rotation:i.rotation,fill:i.fill,onClick:()=>w(s),sound:i.sound},s))]})})},D=e=>t.jsxs("div",{id:"wrapper",children:[t.jsx("img",{ref:e.animationRef,src:"../../../public/animation/wait.gif"}),t.jsx("div",{ref:e.elementRef,children:"Super Simon"})]}),I=e=>{const c=u.useRef(null),a=u.useRef(null);return t.jsxs("div",{className:"main",children:[t.jsx(D,{elementRef:c,animationRef:a}),t.jsx(_,{sequence:e.sequence,elementRef:c,animationRef:a})]})};function W(){const[e,c]=u.useState([]);return t.jsxs(t.Fragment,{children:[t.jsx(I,{sequence:e}),t.jsx(B,{setSequence:c})]})}P.createRoot(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(W,{})}));
//# sourceMappingURL=index-DhHgGrkC.js.map
